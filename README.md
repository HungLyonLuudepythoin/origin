# Tham Quan ·∫¢o ƒê·ªÅn H√πng ‚Äì WebDev Adventure 2025

D·ª± √°n ƒë∆∞·ª£c ph√°t tri·ªÉn b·ªüi nh√≥m **Ch√≠ch Ch√≤e**, tham gia cu·ªôc thi **WebDev Adventure 2025** do CLB WebDev Studios ‚Äì Tr∆∞·ªùng ƒêH CNTT, ƒêHQG TP.HCM t·ªï ch·ª©c.

## üìõ Gi·ªõi thi·ªáu

L·ªÖ h·ªôi **Gi·ªó T·ªï H√πng V∆∞∆°ng** l√† m·ªôt trong nh·ªØng d·ªãp tr·ªçng ƒë·∫°i c·ªßa d√¢n t·ªôc Vi·ªát Nam. Tuy nhi√™n, r√†o c·∫£n v·ªÅ kho·∫£ng c√°ch ƒë·ªãa l√Ω, thi·∫øu tr·∫£i nghi·ªám t∆∞∆°ng t√°c v√† h·∫°n ch·∫ø trong vi·ªác b·∫£o t·ªìn di s·∫£n khi·∫øn nhi·ªÅu ng∆∞·ªùi kh√¥ng th·ªÉ ti·∫øp c·∫≠n tr·ªçn v·∫πn gi√° tr·ªã vƒÉn h√≥a n√†y.

**D·ª± √°n Tham Quan ƒê·ªÅn H√πng** ra ƒë·ªùi nh·∫±m t√°i hi·ªán l·ªÖ h·ªôi th√¥ng qua n·ªÅn t·∫£ng web 3D ·ª©ng d·ª•ng c√¥ng ngh·ªá th·ª±c t·∫ø ·∫£o v√† t∆∞∆°ng t√°c s·ªë, h∆∞·ªõng ƒë·∫øn vi·ªác b·∫£o t·ªìn, lan t·ªèa v√† k·∫øt n·ªëi c·ªông ƒë·ªìng v·ªõi gi√° tr·ªã truy·ªÅn th·ªëng Vi·ªát.

## üéØ ƒê·ªëi t∆∞·ª£ng ng∆∞·ªùi d√πng

- Gi·ªõi tr·∫ª Vi·ªát Nam v√† ki·ªÅu b√†o n∆∞·ªõc ngo√†i
- Du kh√°ch qu·ªëc t·∫ø y√™u th√≠ch vƒÉn h√≥a Vi·ªát
- C√°c nh√† gi√°o d·ª•c, t·ªï ch·ª©c vƒÉn h√≥a
- C·ªông ƒë·ªìng y√™u c√¥ng ngh·ªá v√† b·∫£o t·ªìn di s·∫£n

## üì∏ Link thi·∫øt k·∫ø Figma

[Figma thi·∫øt k·∫ø giao di·ªán website](https://www.figma.com/design/XpG29Qk2bjWnKQF9PQqoTT/D%E1%BB%B1-%C3%A1n-%22Ng%C3%A0y-Gi%E1%BB%97-T%E1%BB%95%22?node-id=0-1&p=f)

## üõ†Ô∏è C√¥ng ngh·ªá s·ª≠ d·ª•ng

- **Frontend:** HTML, CSS, JavaS, React
- **3D Engine:** Three.js / Unity WebGL
- **Thanh to√°n & Donate:** PayOS
- **Database:** MariaDB v√† GUI adminer ƒë·ªÉ qu·∫£n l√≠ database ƒë∆∞·ª£c t√≠ch h·ª£p trong docker

## üìå T√≠nh nƒÉng ch√≠nh

- **Trang Ch·ªß** ‚Äì Gi·ªõi thi·ªáu v·ªÅ c√°c Vua H√πng, l·ªãch s·ª≠ Gi·ªó T·ªï, ki·∫øn tr√∫c di t√≠ch.
- **Ho·∫°t ƒê·ªông** ‚Äì T√°i hi·ªán tr√≤ ch∆°i d√¢n gian, nghi l·ªÖ truy·ªÅn th·ªëng b·∫±ng video t∆∞∆°ng t√°c.
- **Kh√¥ng Gian C·ªông ƒê·ªìng** ‚Äì Ng∆∞·ªùi d√πng ƒëƒÉng b√†i, ·∫£nh, video tr·∫£i nghi·ªám.
- **Tham Quan 3D** ‚Äì Kh√°m ph√° kh√¥ng gian l·ªÖ h·ªôi v√† ƒê·ªÅn H√πng v·ªõi c√¥ng ngh·ªá WebXR.

### üí≥ T√≠nh nƒÉng: h·ªá th·ªëng donate

V·ªõi m·ª•c ti√™u tr√πng tu c√°c c√¥ng tr√¨nh l∆∞u gi·ªØ vƒÉn h√≥a ngh√¨n nƒÉm, c√πng v·ªõi ƒë√≥ l√† mong mu·ªën h·ªá th·ªëng minh b·∫°ch, an to√†n gi√∫p d√πng an t√¢m tuy·ªát ƒë·ªëi khi chuy·ªÉn ti·ªÅn v√†o qu·ªπ h·ªó tr·ª£. Nh√≥m s·ª≠ d·ª•ng h·ªá th·ªëng to√°n ƒëi·ªán t·ª≠ PayOS v√¨ kh√¥ng c·∫ßn ph·∫£i ƒëƒÉng k√≠ kinh doanh nh∆∞ c√°c c√¥ng ngh·ªá d·ªãch v·ª• kh√°c (Momo, ZaloPay)

#### üß© Quy tr√¨nh h·ªá th·ªëng donate (workflow)

```mermaid
sequenceDiagram
  participant User as üë§ User
  participant Frontend as üíª Frontend (index.html)
  participant Backend as üñ•Ô∏è Backend (Express Server)
  participant PayOS as üí∞ PayOS
  participant DB as üóÉÔ∏è MariaDB

  User->>Frontend: Clicks "Donate" button
  Frontend->>Backend: POST /create with { amountDonate, description }

  Backend->>PayOS: createPaymentLink(body)
  PayOS-->>Backend: { checkoutUrl, orderCode, etc. }
  Backend-->>Frontend: Respond with payment link

  User->>PayOS: Completes payment using checkoutUrl
  PayOS-->>User: Redirects to returnUrl

  Note right of User: User sees success.html

  PayOS->>Backend: POST /confirm-webhook (sends payment info)
  Backend->>Backend: Extract info from req.body (e.g. amount, orderCode, customerName)

  Backend->>DB: INSERT INTO transactions (...)
  DB-->>Backend: OK

  Backend-->>PayOS: 200 OK (webhook received)

```

## `.env` / Bi·∫øn m√¥i tr∆∞·ªùng

```env
CLIENT_ID =
API_KEY =
CHECKSUM_KEY =
DB_HOST = db
DB_PORT = 3306
DB_USER = myuser
DB_PASSWORD = mypass
DB_DATABASE = mydb
DB_CONNECTION_LIMIT= 10

MINIO_END_POINT = minio
MINIO_PORT = 9000
MINIO_USE_SSL = false
MINIO_ACCESS_KEY = minioadmin
MINIO_SECRET_KEY = minioadmin
MINIO_BUCKET_NAME = webdev2025
```

## ‚öôÔ∏è C√°ch ch·∫°y d·ª± √°n

Donwload file v·ªÅ v√† gi·∫£i n√©n file ho·∫∑c s·ª≠ d·ª•ng `git clone `.

### ƒê·ªëi v·ªõi FE

S·ª≠ d·ª•ng c√¢u l·ªánh `cd fe` trong terminal.
Sau ƒë√≥ ch·∫°y c√¢u l·ªánh `npm install` ƒë·ªÉ t·∫£i c√°c package c·∫ßn thi·∫øt c·ªßa d·ª± √°n v√† cu·ªëi c√πng c√¢u l·ªánh `npm run dev`

### ƒê·ªëi v·ªõi BE

S·ª≠ d·ª•ng c√¢u l·ªánh `cd fe ` trong terminal
S·ª≠ d·ª•ng ph·∫ßn m·ªÅm Docker ƒë·ªÉ c√≥ th·ªÉ ch·∫°y c√°c ch∆∞∆°ng tr√¨nh ƒë∆∞·ª£c ƒë√≥ng g√≥i trong container b·∫±ng c√¢u l·ªánh `docker compose up --build`

## üìò API Documentation

### üñºÔ∏è MinIO's API Calls `api/minio/`

| Method | Endpoint       | Description                                         | Request Params / Body                                                                                   | Response Example                                                |
| ------ | -------------- | --------------------------------------------------- | ------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------- |
| GET    | `/files`       | L·∫•y danh s√°ch file trong folder c·ª• th·ªÉ              | **Query:** `path=images` (ho·∫∑c `videos`, `posts`)                                                       | `{ "files": ["images/cat.jpg", "images/logo.png"] }`            |
| GET    | `/preview`     | Xem tr∆∞·ªõc file (stream inline)                      | **Query:** `path=images/cat.jpg`                                                                        | Tr·∫£ v·ªÅ n·ªôi dung file tr·ª±c ti·∫øp                                  |
| GET    | `/file`        | T·∫£i file t·ª´ MinIO                                   | **Query:** `path=images/cat.jpg`                                                                        | File t·∫£i v·ªÅ (Content-Disposition: attachment)                   |
| POST   | `/files/:path` | Upload file v√†o folder c·ª• th·ªÉ (images/videos/posts) | **Path:** `:path` = `images` / `videos` / `posts` <br> **Body:** `multipart/form-data` v·ªõi field `file` | `200 OK` n·∫øu th√†nh c√¥ng, ho·∫∑c `{ error: "..." }` n·∫øu l·ªói x·∫£y ra |

---

### üë§ User's API Calls `api/user/`

| Method | Endpoint         | Description                                              | Params / Body                                             | Response Example                                         |
| ------ | ---------------- | -------------------------------------------------------- | --------------------------------------------------------- | -------------------------------------------------------- |
| GET    | `/`              | L·∫•y danh s√°ch t·∫•t c·∫£ ng∆∞·ªùi d√πng                          | ‚Äì                                                         | `[ { id_user: 1, ho_ten: "Nguy·ªÖn VƒÉn A" }, ... ]`        |
| GET    | `/:id`           | L·∫•y t·∫•t c·∫£ th√¥ng tin c·ªßa 1 ng∆∞·ªùi d√πng (t·ªïng h·ª£p to√†n b·ªô) | **Path:** `id_user`                                       | `{ user, donations, mediaFiles, posts }`                 |
| GET    | `/:id/donations` | L·∫•y danh s√°ch donation c·ªßa ng∆∞·ªùi d√πng                    | **Path:** `id_user`                                       | `[ { magiaodich, sotien, mota, ... } ]`                  |
| GET    | `/:id/media`     | L·∫•y danh s√°ch file media m√† ng∆∞·ªùi d√πng ƒë√£ upload         | **Path:** `id_user`                                       | `[ { file_name, file_url, file_type, minio_key }, ... ]` |
| GET    | `/:id/posts`     | L·∫•y danh s√°ch b√†i vi·∫øt c·ªßa ng∆∞·ªùi d√πng                    | **Path:** `id_user`                                       | `[ { post, created_at }, ... ]`                          |
| POST   | `/`              | T·∫°o ng∆∞·ªùi d√πng m·ªõi                                       | **Body:** `{ ho_ten: "Nguy·ªÖn VƒÉn A" }`                    | `{ id_user: 1, ho_ten: "Nguy·ªÖn VƒÉn A" }`                 |
| POST   | `/:id/media`     | Ghi metadata cho media file upload c·ªßa ng∆∞·ªùi d√πng        | **Body:** `{ file_name, file_type, file_url, minio_key }` | `"Media file metadata recorded"`                         |
| POST   | `/:id/posts`     | T·∫°o b√†i vi·∫øt m·ªõi cho ng∆∞·ªùi d√πng                          | **Body:** `{ post: "N·ªôi dung b√†i vi·∫øt" }`                 | `"Post created"`                                         |

---

### üîó Donate's API Calls: `/api/donate`

| Method | Endpoint           | Description                                          | Request Params / Body                                                         | Response                                                           |
| ------ | ------------------ | ---------------------------------------------------- | ----------------------------------------------------------------------------- | ------------------------------------------------------------------ |
| POST   | `/create`          | T·∫°o link thanh to√°n PayOS v√† chuy·ªÉn h∆∞·ªõng ng∆∞·ªùi d√πng | **Body:** `{ description, amountDonate, userId }`                             | `redirect` ƒë·∫øn `checkoutUrl` n·∫øu th√†nh c√¥ng, JSON l·ªói n·∫øu th·∫•t b·∫°i |
| GET    | `/find`            | T√¨m donate theo userId ho·∫∑c t√™n                      | **Query:** `userId?`, `userName?` (√≠t nh·∫•t 1)                                 | `{ error, message, data: [donation records] }`                     |
| GET    | `/topDonaters`     | L·∫•y top 10 ng∆∞·ªùi donate nhi·ªÅu nh·∫•t                   | ‚Äì                                                                             | `{ error, message, data: [ { id_user, total_donated } ] }`         |
| GET    | `/:userId`         | L·∫•y t·ªïng ti·ªÅn donate c·ªßa m·ªôt ng∆∞·ªùi d√πng              | **Path param:** `userId`                                                      | `{ error, message, data: { id_user, total_donated } }`             |
| POST   | `/confirm-webhook` | Nh·∫≠n th√¥ng tin thanh to√°n t·ª´ PayOS                   | **Body:** `{ data: { orderCode, amount, description, transactionDateTime } }` | `{ error, message }` (ghi v√†o DB n·∫øu th√†nh c√¥ng)                   |

---

## üöÄ ƒê·ªãnh h∆∞·ªõng t∆∞∆°ng lai

- M·ªü r·ªông n·ªôi dung l·ªãch s·ª≠ ‚Äì gi√°o d·ª•c
- T·ªëi ∆∞u h√≥a hi·ªÉn th·ªã 3D cho thi·∫øt b·ªã y·∫øu
- Tri·ªÉn khai h·ªá th·ªëng donate h·ª£p ph√°p theo quy ƒë·ªãnh
- Ph√°t tri·ªÉn th√™m khu v·ª±c **ƒê·ªÅn H√πng Ph√∫ Th·ªç** b√™n c·∫°nh ƒê·ªÅn t∆∞·ªüng ni·ªám ·ªü TP.HCM

## üìã Ph√¢n c√¥ng nh√≥m

| Th√†nh vi√™n           | Vai tr√≤                      |
| -------------------- | ---------------------------- |
| L∆∞u Vƒ©nh H∆∞ng        | √ù t∆∞·ªüng d·ª± √°n                |
| L∆∞∆°ng Tri·ªÉn ƒê·∫°t      | T·ªïng quan d·ª± √°n              |
| V√µ Minh Qu√¢n         | N·ªôi dung t·ªïng quan & √Ω t∆∞·ªüng |
| ƒêo√†n Nguy·ªÖn Minh Th∆∞ | Thi·∫øt k·∫ø poster & n·ªôi dung   |
| ƒê·∫∑ng Gia Nguy√™n      | Thi·∫øt k·∫ø poster              |

---

> üí° D·ª± √°n kh√¥ng v√¨ m·ª•c ƒë√≠ch l·ª£i nhu·∫≠n, h∆∞·ªõng ƒë·∫øn k·∫øt n·ªëi c·ªông ƒë·ªìng v√† b·∫£o t·ªìn gi√° tr·ªã vƒÉn h√≥a d√¢n t·ªôc th√¥ng qua c√¥ng ngh·ªá hi·ªán ƒë·∫°i..
